<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Create account â€” MaestroMatch</title>
  <link rel="stylesheet" href="../styles/main.css" />
</head>
<body>
  <a href="#main" class="skip-link">Skip to content</a>

  <header class="site-header" role="banner">
    <div class="container navbar" role="navigation" aria-label="Main">
      <a class="brand" href="../index.html" aria-label="MaestroMatch home">
        <span class="brand-mark" aria-hidden="true">ðŸŽµ</span>
        MaestroMatch
      </a>
      <div class="nav-actions">
        <a href="../index.html" class="btn btn-ghost">Back to sign in</a>
      </div>
    </div>
  </header>

  <main id="main">
    <section class="section">
      <div class="container">
        <div class="form-shell">
          <div class="stack">
            <h2 class="form-title">Create your account</h2>
            <form id="signupForm" class="form-grid cols-2" novalidate>
              <div class="field">
                <label for="firstName">First name</label>
                <input id="firstName" name="firstName" class="input" type="text" autocomplete="given-name" required />
              </div>
              <div class="field">
                <label for="lastName">Last name</label>
                <input id="lastName" name="lastName" class="input" type="text" autocomplete="family-name" required />
              </div>
              <div class="field" style="grid-column: 1 / -1;">
                <label for="email">Email</label>
                <input id="email" name="email" class="input" type="email" autocomplete="email" required />
              </div>
              <div class="field" style="grid-column: 1 / -1;">
                <label for="password">Password</label>
                <input id="password" name="password" class="input" type="password" autocomplete="new-password" minlength="6" required />
                <div class="help">Use at least 6 characters.</div>
              </div>

              <div class="form-actions" style="grid-column: 1 / -1;">
                <a href="./student.html" class="btn btn-ghost">Create as Student</a>
                <a href="./teacher.html" class="btn btn-ghost">Create as Teacher</a>
              </div>
              <div id="signupMessage" class="help" style="grid-column: 1 / -1;" aria-live="polite"></div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div>Â© <span id="year"></span> MaestroMatch</div>
      <nav class="footer-links" aria-label="Footer">
        <a href="#">Privacy</a>
        <a href="#">Terms</a>
        <a href="#">Contact</a>
      </nav>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Lightweight handler to branch based on which submit button was used
    (function(){
      var form = document.getElementById('signupForm');
      var message = document.getElementById('signupMessage');
      if (!form) return;
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        var submitter = e.submitter; // which button was clicked
        var role = submitter && submitter.dataset ? submitter.dataset.role : '';
        // Basic required fields check (browser will handle due to required attrs, but double-check)
        var first = document.getElementById('firstName');
        var last = document.getElementById('lastName');
        var email = document.getElementById('email');
        var pass = document.getElementById('password');
        if (!first.value.trim() || !last.value.trim() || !email.value.trim() || !pass.value) {
          if (message) message.textContent = 'Please complete all fields.';
          return;
        }
        if (message) message.textContent = 'Account created. Redirectingâ€¦';
        // Redirect to the appropriate sign-in page
        if (role === 'teacher') {
          window.location.href = './teachsignin.html';
        } else {
          window.location.href = './studentSignin.html';
        }
      });
    })();
  </script>
</body>
</html>
